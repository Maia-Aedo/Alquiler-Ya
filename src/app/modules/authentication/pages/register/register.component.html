<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@clr/icons/clr-icons.min.css">
<!-- 
    <clr-select-container>
    <label>User Role</label>
    <select clrSelect name="type" [(ngModel)]="form.type">
        <option value="local">Local Users</option>
        <option value="admin">Administrator</option>
    </select>
    </clr-select-container>
-->

<div class="register-wrapper">
    <form class="register" (ngSubmit)="onSubmit()" #registerForm="ngForm">
        <section class="title">
            <div class="welcome">Registro de usuario</div>
        </section>
        <div class="register-group">
            <!-- Campo de Nombre -->
            <clr-input-container>
                <label>Nombre</label>
                <input type="text" name="nombre" clrInput placeholder="Ingrese su nombre" [(ngModel)]="form.nombre"
                    #nombre="ngModel" required />
                <clr-control-error *ngIf="nombre.invalid && nombre.touched">El nombre es obligatorio</clr-control-error>
            </clr-input-container>

            <!-- Campo de Apellido -->
            <clr-input-container>
                <label>Apellido</label>
                <input type="text" name="apellido" clrInput placeholder="Ingrese su apellido"
                    [(ngModel)]="form.apellido" #apellido="ngModel" required />
                <clr-control-error *ngIf="apellido.invalid && apellido.touched">El apellido es
                    obligatorio</clr-control-error>
            </clr-input-container>

            <!-- Campo de Email -->
            <clr-input-container>
                <label>Email</label>
                <input type="email" name="email" clrInput placeholder="Ingrese su email" [(ngModel)]="form.email"
                    #email="ngModel" required email />
                <clr-control-error *ngIf="email.invalid && email.touched">Ingrese un email válido</clr-control-error>
            </clr-input-container>

            <!-- Campo de Teléfono -->
            <clr-input-container>
                <label>Teléfono</label>
                <input type="tel" name="telefono" clrInput placeholder="Ingrese su teléfono" [(ngModel)]="form.telefono"
                    #telefono="ngModel" required pattern="^[0-9]+$" />
                <clr-control-error *ngIf="telefono.invalid && telefono.touched">Ingrese un número de teléfono
                    válido</clr-control-error>
            </clr-input-container>

            <!-- Campo de Usuario -->
            <clr-input-container>
                <label>Usuario</label>
                <input type="text" name="username" clrInput placeholder="Ingrese su usuario" [(ngModel)]="form.username"
                    #username="ngModel" required />
                <clr-control-error *ngIf="username.invalid && username.touched">El nombre de usuario es
                    obligatorio</clr-control-error>
            </clr-input-container>

            <!-- Campo de Contraseña -->
            <clr-password-container>
                <label>Contraseña</label>
                <input type="password" name="password" clrPassword placeholder="*****" [(ngModel)]="form.password"
                    #password="ngModel" required minlength="6" />
                <clr-control-error *ngIf="password.invalid && password.touched">La contraseña debe tener al menos 6
                    caracteres</clr-control-error>
            </clr-password-container>

            <!-- Campo de Confirmación de Contraseña -->
            <clr-password-container>
                <label>Confirmar Contraseña</label>
                <input type="password" name="confirmPassword" clrPassword placeholder="Confirme su contraseña"
                    [(ngModel)]="form.confirmPassword" #confirmPassword="ngModel" required
                    [ngClass]="{'is-invalid': !passwordsMatch && confirmPassword.touched}" />
                <clr-control-error *ngIf="confirmPassword.invalid && confirmPassword.touched">Debe confirmar la
                    contraseña</clr-control-error>
                <clr-control-error *ngIf="!passwordsMatch && confirmPassword.touched">Las contraseñas no
                    coinciden</clr-control-error>
            </clr-password-container>

            <!-- Botón de registro -->
            <button type="submit" class="btn" [disabled]="registerForm.invalid || !passwordsMatch">Registrarse</button>
        </div>
    </form>
</div>